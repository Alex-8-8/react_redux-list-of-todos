{"version":3,"sources":["components/Todo/Todo.tsx","actionCreators.ts","constants.ts","components/TodoList/TodoList.tsx","api.ts","App.tsx","store.ts","index.tsx"],"names":["connect","dispatch","onDelete","id","type","payload","onDeleteAction","todo","user","username","title","completed","onClick","state","todos","sortByTitle","sortByName","sortByCompleted","className","map","item","key","API_URL","getData","url","a","fetch","response","json","getUsers","getTodos","getPreparedTodos","users","preparedTodos","find","userId","setTodos","setTodosAction","useState","isLoaded","setLoad","isLoading","setLoading","then","newTodos","initialState","store","createStore","action","sort","b","Number","localeCompare","todoA","todoB","filter","composeWithDevTools","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.20b0692f.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { onDeleteAction } from '../../actionCreators';\n\ninterface Props {\n  todo: PreparedTodo;\n  onDelete: (id: number) => void;\n}\n\nconst Todo: FC<Props> = ({ todo, onDelete }) => (\n  <tr>\n    <td>{todo.user.username}</td>\n    <td>{todo.title}</td>\n    <td>{todo.completed ? 'completed' : 'uncompleted'}</td>\n    <td>\n      <button\n        type=\"button\"\n        onClick={() => onDelete(todo.id)}\n      >\n        x\n      </button>\n    </td>\n  </tr>\n);\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  onDelete: (id: number) => dispatch(onDeleteAction(id)),\n});\n\nexport default connect(null, mapDispatchToProps)(Todo);\n","import {\n  SET_TODOS,\n  SORT_BY_COMPLETED,\n  SORT_BY_TITLE,\n  SORT_BY_NAME,\n  ON_DELETE,\n} from './constants';\n\nexport const setTodosAction = (todos: PreparedTodo[]) => ({\n  type: SET_TODOS,\n  todos,\n});\n\nexport const sortByTitleAction = () => ({\n  type: SORT_BY_TITLE,\n});\n\nexport const sortByNameAction = () => ({\n  type: SORT_BY_NAME,\n});\n\nexport const sortByCompletedAction = () => ({\n  type: SORT_BY_COMPLETED,\n});\n\nexport const onDeleteAction = (id: number) => ({\n  type: ON_DELETE,\n  payload: id,\n});\n","export const SORT_BY_NAME = 'SORT_BY_NAME';\nexport const SORT_BY_TITLE = 'SORT_BY_TITLE';\nexport const SORT_BY_COMPLETED = 'SORT_BY_COMPLETED';\nexport const SET_TODOS = 'SET_TODOS';\nexport const ON_DELETE = 'ON_DELETE';\n","import React, { FC, Dispatch } from 'react';\nimport { connect } from 'react-redux';\nimport { Action } from 'redux';\nimport Todo from '../Todo/Todo';\nimport { InitialState } from '../../store';\nimport { sortByTitleAction, sortByNameAction, sortByCompletedAction } from '../../actionCreators';\n\ninterface Props {\n  todos: PreparedTodo[];\n  sortByTitle: () => void;\n  sortByName: () => void;\n  sortByCompleted: () => void;\n}\n\nconst TodoList: FC<Props> = ({\n  todos,\n  sortByTitle,\n  sortByName,\n  sortByCompleted,\n}) => {\n  return (\n    <div className=\"table-wrapper\">\n      <table className=\"table table-striped w-100 w-50\">\n        <thead className=\"thead-dark\">\n          <tr>\n            <th>\n              <button\n                className=\"btn btn-info\"\n                type=\"button\"\n                onClick={() => sortByName()}\n              >\n                Name\n              </button>\n            </th>\n            <th>\n              <button\n                className=\"btn btn-info\"\n                type=\"button\"\n                onClick={() => sortByTitle()}\n              >\n                Todo\n              </button>\n            </th>\n            <th>\n              <button\n                className=\"btn btn-info\"\n                type=\"button\"\n                onClick={() => sortByCompleted()}\n              >\n                Status\n              </button>\n            </th>\n            <th>\n              Delete\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {todos.map(item => <Todo key={item.id} todo={item} />)}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state: InitialState) => ({\n  todos: state.todos,\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<Action>) => ({\n  sortByTitle: () => dispatch(sortByTitleAction()),\n  sortByName: () => dispatch(sortByNameAction()),\n  sortByCompleted: () => dispatch(sortByCompletedAction()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TodoList);\n","const API_URL = 'https://jsonplaceholder.typicode.com';\n\nconst getData = async <T>(url: string): Promise<T> => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n\nconst getUsers = async (): Promise<User[]> => {\n  return getData<User[]>(`${API_URL}/users`);\n};\n\nconst getTodos = async (): Promise<Todo[]> => {\n  return getData<Todo[]>(`${API_URL}/todos`);\n};\n\nexport const getPreparedTodos = async (): Promise<PreparedTodo[]> => {\n  const todos: Todo[] = await getTodos();\n  const users: User[] = await getUsers();\n\n  const preparedTodos = todos.map((todo) => ({\n    ...todo,\n    user: users.find(user => todo.userId === user.id) as User,\n  }));\n\n  return preparedTodos;\n};\n","import React, { FC, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport './App.css';\nimport TodoList from './components/TodoList/TodoList';\nimport { getPreparedTodos } from './api';\nimport { setTodosAction } from './actionCreators';\n\ninterface Props {\n  setTodos: (todos: PreparedTodo[]) => void;\n}\n\nconst App: FC<Props> = ({ setTodos }) => {\n  const [isLoaded, setLoad] = useState(false);\n  const [isLoading, setLoading] = useState(false);\n\n  const handleLoad = () => {\n    setLoading(true);\n    getPreparedTodos().then(newTodos => {\n      setTodos(newTodos);\n      setLoad(true);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <div className=\"app\">\n      {isLoaded\n        ? (\n          <TodoList />\n        )\n        : (\n          <div className=\"primary-show\">\n            <h1>Redux TODOs</h1>\n            <button\n              className=\"btn btn-warning btn-lg\"\n              type=\"button\"\n              onClick={handleLoad}\n            >\n              {!isLoading ? <span>Load</span> : <span>Loading...</span>}\n            </button>\n          </div>\n        )}\n    </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) => ({\n  setTodos: (todos: PreparedTodo[]) => dispatch(setTodosAction(todos)),\n});\n\nexport default connect(null, mapDispatchToProps)(App);\n","import {\n  createStore,\n  Reducer,\n  Action,\n} from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport {\n  SET_TODOS,\n  SORT_BY_COMPLETED,\n  SORT_BY_TITLE,\n  SORT_BY_NAME,\n  ON_DELETE,\n} from './constants';\n\nexport interface InitialState {\n  todos: PreparedTodo[] | [];\n}\n\nexport interface DispatchAction extends Action {\n  type: string;\n  todos: PreparedTodo[];\n  payload?: number;\n}\n\nconst initialState: InitialState = {\n  todos: [],\n};\n\nconst reducer: Reducer<InitialState, DispatchAction> = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_TODOS:\n      return {\n        ...state,\n        todos: action.todos,\n      };\n\n    case SORT_BY_COMPLETED:\n      return {\n        ...state,\n        todos: [...state?.todos]\n          .sort((a, b) => Number(b.completed) - Number(a.completed)),\n      };\n\n    case SORT_BY_TITLE:\n      return {\n        ...state,\n        todos: [...state?.todos].sort((a, b) => a.title.localeCompare(b.title)),\n      };\n\n    case SORT_BY_NAME:\n      return {\n        ...state,\n        todos: [...state?.todos]\n          .sort((todoA, todoB) => todoA.user.username\n            .localeCompare(todoB.user.username)),\n      };\n\n    case ON_DELETE:\n      return {\n        ...state,\n        todos: [...state?.todos].filter(todo => todo.id !== action.payload),\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(\n  reducer,\n  composeWithDevTools(),\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}